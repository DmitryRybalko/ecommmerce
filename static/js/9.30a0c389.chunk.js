(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[9],{100:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return f}));var r=n(15),a=n.n(r),c=n(17),i=n(24),o=n.n(i),s=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/categories"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/category/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("".concat("http://localhost:8000/api","/category/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.put("".concat("http://localhost:8000/api","/category/").concat(e),n,{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/category"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},110:function(t,e,n){"use strict";var r=n(83),a=(n(1),n(111)),c=n.n(a),i=n(24),o=n.n(i),s=n(23),u=n(4);e.a=function(t){var e=t.values,n=t.setValues,a=t.setLoading,i=Object(s.c)((function(t){return Object(r.a)({},t)})).user;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"form__input-container",children:[Object(u.jsx)("input",{id:"file",type:"file",multiple:!0,accept:"images/*",className:"form-input",onChange:function(t){var s=t.target.files,u=e.images;if(s){a(!0);for(var l=0;l<s.length;l++)c.a.imageFileResizer(s[l],720,720,"JPEG",100,0,(function(t){o.a.post("".concat("http://localhost:8000/api","/uploadimages"),{image:t},{headers:{authtoken:i?i.token:""}}).then((function(t){alert("upload",t),a(!1),u.push(t.data),n(Object(r.a)(Object(r.a)({},e),{},{images:u}))})).catch((function(t){a(!1),console.log(t)}))}),"base64")}}}),Object(u.jsx)("span",{className:"form-span"}),Object(u.jsx)("label",{htmlFor:"file",className:"form-label",children:"Choose File"})]})})}},111:function(t,e,n){!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:function(){return a}});var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e;return(e=[{key:"changeHeightWidth",value:function(t,e,n,r,a,c){return n>r&&(t=Math.round(t*r/n),n=r),t>e&&(n=Math.round(n*e/t),t=e),a&&n<a&&(t=Math.round(t*a/n),n=a),c&&t<c&&(n=Math.round(n*c/t),t=c),{height:t,width:n}}},{key:"resizeAndRotateImage",value:function(t,e,n,r,a){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i/100,u=document.createElement("canvas"),l=t.width,p=t.height,f=this.changeHeightWidth(p,n,l,e,r,a);!o||90!==o&&270!==o?(u.width=f.width,u.height=f.height):(u.width=f.height,u.height=f.width),l=f.width,p=f.height;var d=u.getContext("2d");return o&&(d.rotate(o*Math.PI/180),90===o?d.translate(0,-u.width):180===o?d.translate(-u.width,-u.height):270===o?d.translate(-u.height,0):0!==o&&360!==o||d.translate(0,0)),d.drawImage(t,0,0,l,p),u.toDataURL("image/".concat(c),s)}},{key:"b64toByteArrays",value:function(t,e){e=e||"image/jpeg";for(var n=atob(t.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],a=0;a<n.length;a+=512){for(var c=n.slice(a,a+512),i=new Array(c.length),o=0;o<c.length;o++)i[o]=c.charCodeAt(o);var s=new Uint8Array(i);r.push(s)}return r}},{key:"b64toBlob",value:function(t,e){var n=this.b64toByteArrays(t,e);return new Blob(n,{type:e,lastModified:new Date})}},{key:"b64toFile",value:function(t,e,n){var r=this.b64toByteArrays(t,n);return new File(r,e,{type:n,lastModified:new Date})}},{key:"createResizedImage",value:function(e,n,r,a,c,i,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,p=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");p.readAsDataURL(e),p.onload=function(){var f=new Image;f.src=p.result,f.onload=function(){var p=t.resizeAndRotateImage(f,n,r,u,l,a,c,i),d="image/".concat(a);switch(s){case"blob":var h=t.b64toBlob(p,d);o(h);break;case"base64":o(p);break;case"file":var b=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(a.toString()),m=t.b64toFile(p,b,d);o(m);break;default:o(p)}}},p.onerror=function(t){throw Error(t)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t,e),t}(),a={imageFileResizer:function(t,e,n,a,c,i,o,s,u,l){return r.createResizedImage(t,e,n,a,c,i,o,s,u,l)}};t.exports=n}()},112:function(t,e,n){},140:function(t,e,n){"use strict";n.r(e);var r=n(85),a=n(84),c=n(83),i=n(89),o=n(1),s=(n(88),n(33)),u=n(23),l=n(87),p=n(100),f=n(110),d=(n(112),n(4)),h={title:"",description:"",price:"",category:"",quantity:"",images:[]};e.default=function(t){var e=t.match,n=t.history,b=Object(u.c)((function(t){return Object(c.a)({},t)})).user,m=Object(o.useState)(h),j=Object(a.a)(m,2),v=j[0],g=j[1],O=Object(o.useState)([]),y=Object(a.a)(O,2),_=y[0],x=y[1],w=Object(o.useState)(!1),N=Object(a.a)(w,2),k=N[0],S=N[1],P=e.params.slug,F=v.title,A=v.description,C=v.price,I=v.category,D=v.quantity;Object(o.useEffect)((function(){E(),M()}),[]);var E=function(){Object(l.b)(P).then((function(t){g(Object(c.a)(Object(c.a)({},v),t.data))})).catch((function(t){return console.log(t)}))},M=function(){return Object(p.b)().then((function(t){return x(t.data)}))},q=function(t){g(Object(c.a)(Object(c.a)({},v),{},Object(r.a)({},t.target.name,t.target.value)))};return Object(d.jsxs)("div",{className:"history-wrapper",children:[Object(d.jsx)("div",{className:"history__nav",children:Object(d.jsx)(i.a,{})}),Object(d.jsx)("div",{className:"history__content",children:Object(d.jsxs)("div",{className:"history__form-wrapper product-form",children:[k?Object(d.jsx)("h1",{className:"form__header form__header-update-product",children:"Loading..."}):Object(d.jsx)("h1",{className:"form__header form__header-update-product",children:"Update product"}),Object(d.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),S(!0),Object(l.h)(P,v,b.token).then((function(t){S(!1),s.b.success("".concat(t.data.title," is updated")),n.push("/admin/products")})).catch((function(t){console.log(t),S(!1),s.b.error(t.response.data)}))},children:[Object(d.jsx)(f.a,{values:v,setValues:g,setLoading:S}),Object(d.jsxs)("div",{className:"form__input-container",children:[Object(d.jsx)("input",{id:"title",required:!0,type:"text",name:"title",className:"form-input",value:F,onChange:q}),Object(d.jsx)("span",{className:"form-span"}),Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"})]}),Object(d.jsxs)("div",{className:"form__input-container",children:[Object(d.jsx)("input",{id:"description",required:!0,type:"text",name:"description",className:"form-input",value:A,onChange:q}),Object(d.jsx)("span",{className:"form-span"}),Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"})]}),Object(d.jsxs)("div",{className:"form__input-container",children:[Object(d.jsx)("input",{id:"price",required:!0,type:"number",name:"price",className:"form-input",value:C,onChange:q}),Object(d.jsx)("span",{className:"form-span"}),Object(d.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"})]}),Object(d.jsxs)("div",{className:"form__input-container",children:[Object(d.jsx)("input",{id:"quantity",required:!0,type:"number",name:"quantity",className:"form-input",value:D,onChange:q}),Object(d.jsx)("span",{className:"form-span"}),Object(d.jsx)("label",{htmlFor:"quantity",className:"form-label",children:"Quantity"})]}),Object(d.jsxs)("div",{className:"form__input-container",children:[Object(d.jsx)("select",{id:"category",name:"category",className:"form-input",onChange:q,value:I._id,children:_.length>0&&_.map((function(t){return Object(d.jsx)("option",{value:t._id,children:t.name},t._id)}))}),Object(d.jsx)("span",{className:"form-span"}),Object(d.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"})]}),Object(d.jsx)("button",{className:"form__btn",type:"submit",children:"Save"})]})]})})]})}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(85);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},84:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},85:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},87:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return b}));var r=n(15),a=n.n(r),c=n(17),i=n(24),o=n.n(i),s=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/product"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("".concat("http://localhost:8000/api","/product/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/products/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/product/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.put("".concat("http://localhost:8000/api","/product/").concat(e),n,{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/products"),{sort:e,order:n,page:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/products/list"),{sort:e,order:n,limit:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/product/related/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},88:function(t,e,n){},89:function(t,e,n){"use strict";var r=n(27),a=(n(90),n(4));e.a=function(){return Object(a.jsx)("nav",{className:"adminnav",children:Object(a.jsxs)("ul",{className:"adminnav__list",children:[Object(a.jsx)("li",{className:"adminnav__list__item",children:Object(a.jsx)(r.b,{className:"adminnav__list__item__link",to:"/admin/dashboard",children:"Dashboard"})}),Object(a.jsx)("li",{className:"adminnav__list__item",children:Object(a.jsx)(r.b,{className:"adminnav__list__item__link",to:"/admin/product",children:"Product"})}),Object(a.jsx)("li",{className:"adminnav__list__item",children:Object(a.jsx)(r.b,{className:"adminnav__list__item__link",to:"/admin/products",children:"Products"})}),Object(a.jsx)("li",{className:"adminnav__list__item",children:Object(a.jsx)(r.b,{className:"adminnav__list__item__link",to:"/admin/category",children:"Category"})}),Object(a.jsx)("li",{className:"adminnav__list__item",children:Object(a.jsx)(r.b,{className:"adminnav__list__item__link",to:"/user/password",children:"Password"})})]})})}},90:function(t,e,n){}}]);
//# sourceMappingURL=9.30a0c389.chunk.js.map