{"version":3,"sources":["assets/about/about-hero.jpg","components/Card/ProductCardCheckout.jsx","pages/Cart/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Hero/index.jsx","util/user.js"],"names":["ProductCardCheckout","p","dispatch","useDispatch","title","count","price","images","_id","quantity","className","length","style","width","height","src","url","alt","id","required","type","name","backgroundColor","value","onChange","e","target","toast","error","cart","window","localStorage","getItem","JSON","parse","map","product","i","setItem","stringify","payload","onClick","splice","Cart","history","useSelector","state","user","Hero","header","image","heroImg","reduce","curVal","nextVal","disabled","userCart","token","then","res","data","ok","push","catch","console","log","to","pathname","from","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable","text","backgroundImage","authtoken","a","axios","post","process","headers","emptyUserCart","delete","saveUserAddress","address","zip","createOrder","stripeResponse","getUserOrders","get"],"mappings":"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","file":"static/js/17.5f0617a5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/about-hero.1baf4542.jpg\";","import { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nconst ProductCardCheckout = ({ p }) => {\r\n  const dispatch = useDispatch();\r\n  const { title, count, price, images, _id, quantity } = p;\r\n\r\n  const handleRemove = () => {\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.map((product, i) => {\r\n        if (product._id === _id) {\r\n          cart.splice(i, 1);\r\n        }\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: cart,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    let count = e.target.value < 1 ? 1 : e.target.value;\r\n    if (count > quantity) {\r\n      toast.error(`Max available quantity ${quantity}`);\r\n      return;\r\n    }\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.map((product, i) => {\r\n        if (product._id === _id) {\r\n          cart[i].count = count;\r\n        }\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: cart,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <tbody className=\"table__body\">\r\n      <tr className=\"table__row\">\r\n        {images.length ? (\r\n          <td className=\"table__data\">\r\n            <img\r\n              style={{ width: \"100px\", height: \"auto\" }}\r\n              className=\"data__img\"\r\n              src={images[0].url}\r\n              alt={title}\r\n            />\r\n          </td>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <td className=\"table__data\">{title}</td>\r\n        <td className=\"table__data\">${price}</td>\r\n        <td className=\"table__data\">\r\n          <input\r\n            id=\"quantity\"\r\n            required\r\n            type=\"number\"\r\n            name=\"quantity\"\r\n            className=\"form-input\"\r\n            style={{ width: \"60px\", backgroundColor: \"white\" }}\r\n            value={count}\r\n            onChange={handleQuantityChange}\r\n          />\r\n        </td>\r\n        <td className=\"table__data\">\r\n          <div className=\"delete-icon-container\">\r\n            <MdDelete onClick={handleRemove} className=\"delete_icon\" />\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  );\r\n};\r\n\r\nexport default ProductCardCheckout;\r\n","import { useSelector } from \"react-redux\";\r\nimport Hero from \"../../components/Hero\";\r\nimport ProductCardCheckout from \"../../components/Card/ProductCardCheckout\";\r\nimport heroImg from \"../../assets/about/about-hero.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { userCart } from \"../../util/user\";\r\nimport \"./cart.css\";\r\n\r\nconst Cart = ({ history }) => {\r\n  const { cart, user } = useSelector((state) => ({ ...state }));\r\n  const getTotal = () => {\r\n    return cart.reduce((curVal, nextVal) => {\r\n      return curVal + nextVal.count * nextVal.price;\r\n    }, 0);\r\n  };\r\n  const saveOrderToDb = () => {\r\n    userCart(cart, user.token)\r\n      .then((res) => {\r\n        if (res.data.ok) history.push(\"/checkout\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"cart save error\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-wrapper\">\r\n      <Hero header={\"Cart\"} image={heroImg} />\r\n      <div className=\"cart-container\">\r\n        <div className=\"cart__products-wrapper\">\r\n          {!cart.length ? (\r\n            <h4>Cart is empty.</h4>\r\n          ) : (\r\n            <table className=\"products__table\">\r\n              <thead className=\"table__head\">\r\n                <tr className=\"table__row\">\r\n                  <th className=\"table__heading\">Image</th>\r\n                  <th className=\"table__heading\">Product</th>\r\n                  <th className=\"table__heading\">Price</th>\r\n                  <th className=\"table__heading\">Quantity</th>\r\n                  <th className=\"table__heading\">Remove</th>\r\n                </tr>\r\n              </thead>\r\n              {cart.map((p) => (\r\n                <ProductCardCheckout key={p._id} p={p} />\r\n              ))}\r\n            </table>\r\n          )}\r\n        </div>\r\n        <div className=\"cart__total-wrapper\">\r\n          <h3 className=\"total__header\">Cart totals</h3>\r\n          <div className=\"total__container\">\r\n            <p className=\"total__text\">Total:</p>\r\n            <p className=\"total__text\">${getTotal()}</p>\r\n          </div>\r\n          {user ? (\r\n            <button\r\n              disabled={!cart.length}\r\n              onClick={saveOrderToDb}\r\n              className=\"total__btn\"\r\n            >\r\n              Proceed to Checkout\r\n            </button>\r\n          ) : (\r\n            <button className=\"total__btn\">\r\n              <Link\r\n                className=\"total__link\"\r\n                to={{\r\n                  pathname: \"/signin\",\r\n                  state: { from: \"cart\" },\r\n                }}\r\n              >\r\n                Log In to Checkout\r\n              </Link>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import \"./hero.css\";\r\n\r\nconst Hero = ({ header, text, image }) => {\r\n  return (\r\n    <div className=\"hero\" style={{ backgroundImage: `url(${image})` }}>\r\n      <div className=\"hero__text\">\r\n        <h1 className=\"hero-text__header\">{header}</h1>\r\n        <p className=\"hero-text__text\">{text}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Hero;\r\n","import axios from \"axios\";\r\n\r\nexport const userCart = async (cart, authtoken) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cart`,\r\n    { cart },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const getUserCart = async (authtoken) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const emptyUserCart = async (authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const saveUserAddress = async (authtoken, address, name, zip) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/user/address`,\r\n    { address, name, zip },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const createOrder = async (stripeResponse, authtoken) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/user/order`,\r\n    { stripeResponse },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const getUserOrders = async (authtoken) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n"],"sourceRoot":""}