(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[17],{106:function(t,e,a){"use strict";e.a=a.p+"static/media/about-hero.1baf4542.jpg"},126:function(t,e,a){},150:function(t,e,a){"use strict";a.r(e);var r=a(83),n=a(23),c=a(91),s=a(33),o=a(86),i=a(4),u=function(t){var e=t.p,a=Object(n.b)(),r=e.title,c=e.count,u=e.price,l=e.images,d=e._id,h=e.quantity;return Object(i.jsx)("tbody",{className:"table__body",children:Object(i.jsxs)("tr",{className:"table__row",children:[l.length?Object(i.jsx)("td",{className:"table__data",children:Object(i.jsx)("img",{style:{width:"100px",height:"auto"},className:"data__img",src:l[0].url,alt:r})}):"",Object(i.jsx)("td",{className:"table__data",children:r}),Object(i.jsxs)("td",{className:"table__data",children:["$",u]}),Object(i.jsx)("td",{className:"table__data",children:Object(i.jsx)("input",{id:"quantity",required:!0,type:"number",name:"quantity",className:"form-input",style:{width:"60px",backgroundColor:"white"},value:c,onChange:function(t){var e=t.target.value<1?1:t.target.value;if(e>h)s.b.error("Max available quantity ".concat(h));else{var r=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))),r.map((function(t,a){t._id===d&&(r[a].count=e)})),localStorage.setItem("cart",JSON.stringify(r)),a({type:"ADD_TO_CART",payload:r}))}}})}),Object(i.jsx)("td",{className:"table__data",children:Object(i.jsx)("div",{className:"delete-icon-container",children:Object(i.jsx)(o.a,{onClick:function(){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(e,a){e._id===d&&t.splice(a,1)})),localStorage.setItem("cart",JSON.stringify(t)),a({type:"ADD_TO_CART",payload:t}))},className:"delete_icon"})})})]})})},l=a(106),d=a(27),h=a(99);a(126),e.default=function(t){var e=t.history,a=Object(n.c)((function(t){return Object(r.a)({},t)})),s=a.cart,o=a.user;return Object(i.jsxs)("div",{className:"cart-wrapper",children:[Object(i.jsx)(c.a,{header:"Cart",image:l.a}),Object(i.jsxs)("div",{className:"cart-container",children:[Object(i.jsx)("div",{className:"cart__products-wrapper",children:s.length?Object(i.jsxs)("table",{className:"products__table",children:[Object(i.jsx)("thead",{className:"table__head",children:Object(i.jsxs)("tr",{className:"table__row",children:[Object(i.jsx)("th",{className:"table__heading",children:"Image"}),Object(i.jsx)("th",{className:"table__heading",children:"Product"}),Object(i.jsx)("th",{className:"table__heading",children:"Price"}),Object(i.jsx)("th",{className:"table__heading",children:"Quantity"}),Object(i.jsx)("th",{className:"table__heading",children:"Remove"})]})}),s.map((function(t){return Object(i.jsx)(u,{p:t},t._id)}))]}):Object(i.jsx)("h4",{children:"Cart is empty."})}),Object(i.jsxs)("div",{className:"cart__total-wrapper",children:[Object(i.jsx)("h3",{className:"total__header",children:"Cart totals"}),Object(i.jsxs)("div",{className:"total__container",children:[Object(i.jsx)("p",{className:"total__text",children:"Total:"}),Object(i.jsxs)("p",{className:"total__text",children:["$",s.reduce((function(t,e){return t+e.count*e.price}),0)]})]}),o?Object(i.jsx)("button",{disabled:!s.length,onClick:function(){Object(h.e)(s,o.token).then((function(t){t.data.ok&&e.push("/checkout")})).catch((function(t){console.log("cart save error",t)}))},className:"total__btn",children:"Proceed to Checkout"}):Object(i.jsx)("button",{className:"total__btn",children:Object(i.jsx)(d.b,{className:"total__link",to:{pathname:"/signin",state:{from:"cart"}},children:"Log In to Checkout"})})]})]})]})}},83:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var r=a(85);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},85:function(t,e,a){"use strict";function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return r}))},91:function(t,e,a){"use strict";a(92);var r=a(4);e.a=function(t){var e=t.header,a=t.text,n=t.image;return Object(r.jsx)("div",{className:"hero",style:{backgroundImage:"url(".concat(n,")")},children:Object(r.jsxs)("div",{className:"hero__text",children:[Object(r.jsx)("h1",{className:"hero-text__header",children:e}),Object(r.jsx)("p",{className:"hero-text__text",children:a})]})})}},92:function(t,e,a){},99:function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"b",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return h}));var r=a(15),n=a.n(r),c=a(17),s=a(24),o=a.n(s),i=function(){var t=Object(c.a)(n.a.mark((function t(e,a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/user/cart"),{cart:e},{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),u=function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("".concat("http://localhost:8000/api","/user/cart"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(n.a.mark((function t(e,a,r,c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/user/address"),{address:a,name:r,zip:c},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a,r,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(n.a.mark((function t(e,a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/user/order"),{stripeResponse:e},{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/user/orders"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=17.5f0617a5.chunk.js.map